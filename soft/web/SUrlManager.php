<?phpnamespace soft\web;use soft\behaviors\ChangeLanguage;use Yii;use soft\helpers\SArray;use yii\helpers\Url;class SUrlManager extends \yii\web\UrlManager{    public function createUrl($params=[], $addLanguageParam = false)    {        $params = (array) $params;        if ($addLanguageParam) {            $languageParam = Yii::$app->site->languageParam;            if (!isset($params[$languageParam])) {                $language = Yii::$app->request->get($languageParam, Yii::$app->site->defaultLanguage);                $params['language'] = $language;            }        }        return parent::createUrl($params);    }    public function createAbsoluteUrl($params, $scheme = null, $addLanguageParam = false)    {        $url = $this->createUrl($params, $addLanguageParam);        if (strpos($url, '://') === false) {            $hostInfo = $this->getHostInfo();            if (strncmp($url, '//', 2) === 0) {                $url = substr($hostInfo, 0, strpos($hostInfo, '://')) . ':' . $url;            } else {                $url = $hostInfo . $url;            }        }        return Url::ensureScheme($url, $scheme);    }    public function absoluteUrl($url)    {        if (strpos($url, '://') === false) {            $url = 'http://' . $url;        }        return $url;    }}