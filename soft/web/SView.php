<?phpnamespace soft\web;use Yii;use soft\widget\ajaxcrud\CrudAsset;use yii\helpers\Html;use yii\web\View;use yii\widgets\Pjax;/** * * @property-read mixed $route * @property-read mixed $csrfInput */class SView extends View{    use VCTrait;    /**     * @var string Short description for view page     */    public $description;    private $_isCrudModalRendered = false;    public function pjaxBegin()    {        Pjax::begin($this->layoutSettings['pjaxOptions']);    }    public function pjaxEnd()    {        Pjax::end();    }    public function modalBegin($options)    {        if (isBs4()) {            \yii\bootstrap4\Modal::begin($options);        } else {            \yii\bootstrap\Modal::begin($options);        }    }    public function modalEnd()    {        if (isBs4()) {            \yii\bootstrap4\Modal::end();        } else {            \yii\bootstrap\Modal::end();        }    }    public function renderModal($options = [])    {        /** @var SView $this */        $this->modalBegin($options);        $this->modalEnd();    }    public function renderCrudModal($options=[])    {        if (!$this->_isCrudModalRendered){            $options =  array_merge( [                "id" => "ajaxCrudModal",                "footer" => '',            ], $options);            $this->renderModal($options);            $this->_isCrudModalRendered = true;        }    }    public function registerCrudAsset()    {        CrudAsset::register($this);    }    public function registerAjaxCrudAssets($modalOptions=[])    {        $this->renderCrudModal($modalOptions);        $this->registerCrudAsset();    }    public function getRoute()    {        return Yii::$app->controller->route;    }    public function getCsrfInput()    {        $csrfParam = $this->request->csrfParam;        $csrfToken = $this->request->csrfToken;        return Html::hiddenInput($csrfParam, $csrfToken);    }}